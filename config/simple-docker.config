# Simple Docker configuration for Cromwell 90
backend {
    default = "LocalDocker"
    
    providers {
        LocalDocker {
            actor-factory = "cromwell.backend.impl.sfs.config.ConfigBackendLifecycleActorFactory"
            config {
                runtime-attributes = """
                    String? docker
                    Int cpu = 1
                    String memory = "2 GB"
                    String disk = "10 GB"
                    Int? time_minutes = 60
                """
                
                submit-docker = """
                    docker run \
                        --rm \
                        --cpus=${cpu} \
                        --memory=${memory} \
                        -v ${cwd}:${docker_cwd} \
                        -v /Users/kerimulterer/prsInteractive/data:/prsInteractive/data:ro \
                        -v /Users/kerimulterer/prsInteractive/results:/prsInteractive/results \
                        -w ${docker_cwd} \
                        ${docker} \
                        /bin/bash ${script}
                """
                
                concurrent-job-limit = 4
            }
        }
    }
}
